#!/bin/sh

for x in 1 2 3 4 5 6 7 8
do
LIST="
$LIST
$(man --apropos --sections=${x} . 2>/dev/null)
"
done

pagename="$(echo "$LIST" | sed '/^[[:blank:]]*$/d'  | fzf | cut -d ' ' -f 1 )"
[ ! "$?" -eq 0 ] && exit 0
[ -z "$pagename" ] && exit 0

if which vman >/dev/null 2>&1 ; then
    vman $pagename
else
    man $pagename
fi

