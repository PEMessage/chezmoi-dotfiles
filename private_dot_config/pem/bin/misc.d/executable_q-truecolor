#!/bin/bash
awk -v term_cols="${width:-$(tput cols || echo 80)}" -v term_lines="${height:-1}" 'BEGIN{
    s="/\\";
    total_cols=term_cols*term_lines;
    for (colnum = 0; colnum<total_cols; colnum++) {
        r = 255-(colnum*255/total_cols);
        g = (colnum*510/total_cols);
        b = (colnum*255/total_cols);
        if (g>255) g = 510-g;
        printf "\033[48;2;%d;%d;%dm", r,g,b;
        printf "\033[38;2;%d;%d;%dm", 255-r,255-g,255-b;
        printf "%s\033[0m", substr(s,colnum%2+1,1);
        if (colnum%term_cols==term_cols) printf "\n";
    }
    printf "\n";
}'

echo 

# Display ANSI colours. Found this on the interwebs, credited
# to "HH".
function q-ansicolors 
{
	esc="\033["
	echo -e "\t  40\t   41\t   42\t    43\t      44       45\t46\t 47"
	for fore in 30 31 32 33 34 35 36 37; do
		line1="$fore  "
		line2="    "
		for back in 40 41 42 43 44 45 46 47; do
			line1="${line1}${esc}${back};${fore}m Normal  ${esc}0m"
			line2="${line2}${esc}${back};${fore};1m Bold    ${esc}0m"
		done
		echo -e "$line1\n$line2"
	done

	echo ""
	echo "# Example:"
	echo "#"
	echo "# Type a Blinkin TJEENARE in Swedens colours (Yellow on Blue)"
	echo "#"
	echo "#           ESC"
	echo "#            |  CD"
	echo "#            |  | CD2"
	echo "#            |  | | FG"
	echo "#            |  | | |  BG + m"
	echo "#            |  | | |  |         END-CD"
	echo "#            |  | | |  |            |"
	echo "# echo -e '\033[1;5;33;44mTJEENARE\033[0m'"
	echo "#"
	echo "# Sedika Signing off for now ;->"

     # awk -v term_cols="${width:-$(tput cols || echo 80)}" 'BEGIN{
     # s="/\\";
     # for (colnum = 0; colnum<term_cols; colnum++) {
     #     r = 255-(colnum*255/term_cols);
     #     g = (colnum*510/term_cols);
     #     b = (colnum*255/term_cols);
     #     if (g>255) g = 510-g;
     #         printf "\033[48;2;%d;%d;%dm", r,g,b;
     #         printf "\033[38;2;%d;%d;%dm", 255-r,255-g,255-b;
     #         printf "%s\033[0m", substr(s,colnum%2+1,1);
     #     }
     #     printf "\n";
     # }'
}

q-ansicolors
